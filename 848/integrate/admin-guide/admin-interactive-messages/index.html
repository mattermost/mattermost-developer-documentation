<!DOCTYPE html>





<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> Interactive Messages: Buttons and Menus</title>
<meta name="viewport" content="width=device-width, initial-scale=1">  
<meta http-equiv="content-language" content="en-us" />

<meta name="og:site_name" value="Mattermost.com">
<meta name="og:title" value="Interactive Messages: Buttons and Menus">

 
  <meta name="description" content="Mattermost supports interactive message buttons and menus for incoming and outgoing webhooks, custom slash commands, and plugins via actions. They help make your integrations richer by completing common tasks inside Mattermost conversations, increasing user engagement and productivity.">
<meta name="twitter:description" content="Mattermost supports interactive message buttons and menus for incoming and outgoing webhooks, custom slash commands, and plugins via actions. They help make your integrations richer by completing common tasks inside Mattermost conversations, increasing user engagement and productivity.">
<meta name="og:description" content="Mattermost supports interactive message buttons and menus for incoming and outgoing webhooks, custom slash commands, and plugins via actions. They help make your integrations richer by completing common tasks inside Mattermost conversations, increasing user engagement and productivity.">



 
<link rel="canonical" href="https://developers.mattermost.com/integrate/admin-guide/admin-interactive-messages/">


<link rel="shortcut icon" type="image/png" href="https://developers.mattermost.com/img/favicon-32x32.png" />

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">


<link rel="stylesheet" href="https://developers.mattermost.com/css/bootstrap.min.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/tabs.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/bar.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/styles.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/code.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/note.css">

<script async defer src="https://buttons.github.io/buttons.js"></script>


<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-53S4TVZ');</script>


    </head>
<body>
    
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-53S4TVZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


    
<header class="with-notification-bar">

    <a href="https://developers.mattermost.com/"><img src="https://developers.mattermost.com/img/logo.svg" alt="Mattermost Logo" width="212px"></a>
    <div class="header__menu-toggle">
        <i class="fa fa-bars"></i>
    </div>
    <ul class="header__links--right">
        <li><a href="https://developers.mattermost.com/">Home</a></li>
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/contribute/getting-started/">Contribute</a></li>
                
            
        
            
            
            
                
                    <li class="active"><a href="https://developers.mattermost.com/integrate/getting-started/">Integrate</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/extend/getting-started/">Extend</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/blog/">Blog</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://docs.mattermost.com/">Admin Docs</a></li>
                
            
        
    </ul>
</header>


<div class='notification-bar sticky-top'>
    <div class="notification-bar__content">
        <a class="notification-bar__close">
            <span aria-hidden="true">×</span>
        </a>
        <a href="https://mattermost.com/careers">
            We&#39;re hiring!
        </a>
    </div>
</div>




    <div id="wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-3 sidebar">
    <div class="sidebar__menu-toggle">
        Interactive Messages: Buttons and Menus
        <i class="fa fa-bars pull-right"></i>
    </div>
    <div class="row sidebar__links">
        
            
        
            
        
            
        
            
        
            
            
                
                

                
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/integrate/getting-started/"> Getting Started</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/getting-started/how-should-i-integrate/"> How Should I Integrate?</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/incoming-webhooks/"> Incoming Webhooks</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/outgoing-webhooks/"> Outgoing Webhooks</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/slash-commands/"> Slash Commands</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/rest-api/"> API Reference</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/examples/"> Examples</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/integrate/apps/"> Apps (Developers Preview)</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/quick-start-js/"> Quick start guide (JS)</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/quick-start-go/"> Quick start guide (Go)</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/manifest/"> Manifest</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/call/"> Call</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/bindings/"> Bindings</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/interactivity/"> Interactivity</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/integrate/apps/interactivity/example-post-menu/"> Post Menu Example</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/using-mattermost-api/"> Apps APIs</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/using-third-party-api/"> Third-party APIs</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/lifecycle/"> App Lifecycle</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/deployment-aws/"> Deployment (AWS)</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/integrate/apps/deployment-aws/prepare-app/"> Preparing App (Developers)</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/integrate/apps/deployment-aws/deploy-to-aws/"> Deployment (Admins)</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/integrate/apps/deployment-aws/hello-lambda/"> Hello, lambda!</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/deployment-http/"> Deployment (HTTP Server)</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                </ul>
            
                
                

                
                
                    
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-minus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/integrate/admin-guide/"> Mattermost Integrations and Developer Toolkit</a>
                    
                </span>

                <ul class="sub-menu" style="display: block">
                    
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-bot-accounts/"> Bot Accounts</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-embedding/"> Embedding Mattermost</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-webhooks-incoming/"> Incoming Webhooks</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-interactive-dialogs/"> Interactive Dialogs</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        
                            
                        

                        
                        
                            
                        

                        <span class="item active">
                            <i class="sub-menu__toggle fa fa-minus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a class="active" href="#"> Interactive Messages: Buttons and Menus</a>
                            
                        </span>

                        <ul class="sub-menu" style="display: block">
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-message-attachments/"> Message Attachments</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-oauth2/"> OAuth 2.0 Applications</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-webhooks-outgoing/"> Outgoing Webhooks</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-personal-access-token/"> Personal Access Tokens</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-plugins-beta/"> Plugins (Beta)</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-slash-commands/"> Slash Commands</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-golang-webhook/"> Using Mattermost with Webhook</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/admin-zapier-integration/"> Zapier Integration</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/admin-guide/images/readme/"> </a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                </ul>
            
            
        
    </div>
</div>

                <div class="col-lg-9 doc-content">
                    
<a href="https://github.com/mattermost/mattermost-developer-documentation/edit/master/site/content/integrate/admin-guide/admin-interactive-messages/_index.md" class="float-right edit-github">
    Edit on GitHub
</a>


                    <h1 class="mt-0 doc-title">
                        
                            Using Buttons and Menus
                        
                    </h1>
                    <p><img src="interactive-messages.png" alt="image"></p>
<p>For information on interactive dialogs, <a href="../admin-interactive-dialogs">see here</a>.</p>
<p>Use interactive messages to simplify complex workflows by allowing users to take quick actions directly through your integration post. For example, they enable your integration to:</p>
<ul>
<li>Mark a task complete in your project management tracker.</li>
<li>Conduct a customer survey or a poll.</li>
<li>Initiate a command to merge a branch into a release.</li>
</ul>
<p>To try it out, you can use this <a href="https://github.com/matterpoll/matterpoll">Matterpoll plugin</a> to add polling to Mattermost channels via a <code>/poll</code> slash command.</p>
<p><img src="poll.png" alt="image"></p>
<h2 id="message-buttons">Message Buttons&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#message-buttons"></i></a> </h2>
<p>Add message buttons as <code>actions</code> in your integration <a href="https://docs.mattermost.com/developer/message-attachments.html">message attachments</a>.</p>
<p>The following payload gives an example that uses message buttons.</p>
<pre><code>  {
    &quot;attachments&quot;: [
      {
        &quot;pretext&quot;: &quot;This is the attachment pretext.&quot;,
        &quot;text&quot;: &quot;This is the attachment text.&quot;,
        &quot;actions&quot;: [
          {
            &quot;id&quot;: &quot;message&quot;,
            &quot;name&quot;: &quot;Ephemeral Message&quot;,
            &quot;integration&quot;: {
              &quot;url&quot;: &quot;http://127.0.0.1:7357&quot;,
              &quot;context&quot;: {
                &quot;action&quot;: &quot;do_something_ephemeral&quot;
              }
            }
          }, {
            &quot;id&quot;: &quot;update&quot;,
            &quot;name&quot;: &quot;Update&quot;,
            &quot;integration&quot;: {
              &quot;url&quot;: &quot;http://127.0.0.1:7357&quot;,
              &quot;context&quot;: {
                &quot;action&quot;: &quot;do_something_update&quot;
              }
            }
          }
        ]
      }
    ]
  }
</code></pre><p>The integration can respond with an update to the original post, or with an ephemeral message:</p>
<pre><code>  {
    &quot;update&quot;: {
      &quot;message&quot;: &quot;Updated!&quot;,
      &quot;props&quot;: {}
    },
    &quot;ephemeral_text&quot;: &quot;You updated the post!&quot;
  }
</code></pre><p><img src="interactive_message.gif" alt="image"></p>
<h2 id="message-menus">Message Menus&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#message-menus"></i></a> </h2>
<p>Similar to buttons, add message menus as <code>actions</code> in your integration <a href="https://docs.mattermost.com/developer/message-attachments.html">message attachments</a>.</p>
<p><img src="images/message-menus.png" alt="image"></p>
<p>The following payload gives an example that uses message menus.</p>
<pre><code>  {
    &quot;attachments&quot;: [
      {
        &quot;pretext&quot;: &quot;This is the attachment pretext.&quot;,
        &quot;text&quot;: &quot;This is the attachment text.&quot;,
        &quot;actions&quot;: [
          {
            &quot;id&quot;: &quot;action_options&quot;,
            &quot;name&quot;: &quot;Select an option...&quot;,
            &quot;integration&quot;: {
              &quot;url&quot;: &quot;http://127.0.0.1:7357/action_options&quot;,
              &quot;context&quot;: {
                &quot;action&quot;: &quot;do_something&quot;
              }
            },
            &quot;type&quot;: &quot;select&quot;,
            &quot;options&quot;: [
                    {
                        &quot;text&quot;: &quot;Option1&quot;,
                        &quot;value&quot;: &quot;opt1&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Option2&quot;,
                        &quot;value&quot;: &quot;opt2&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Option3&quot;,
                        &quot;value&quot;: &quot;opt3&quot;
                    }
            ]
          }
        ]
      }
    ]
  }
</code></pre><p>The integration can respond with an update to the original post, or with an ephemeral message:</p>
<pre><code>  {
    &quot;update&quot;: {
      &quot;message&quot;: &quot;Updated!&quot;,
      &quot;props&quot;: {}
    },
    &quot;ephemeral_text&quot;: &quot;You updated the post!&quot;
  }
</code></pre><h3 id="message-menus-for-channels">Message Menus for Channels&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#message-menus-for-channels"></i></a> </h3>
<p>You can provide a list of channels for message menus for users to select from. Users can only select from public channels in their teams.</p>
<p>Specify <code>channels</code> as your action&rsquo;s <code>data_source</code> as follows:</p>
<pre><code>  {
    &quot;attachments&quot;: [
      {
        &quot;pretext&quot;: &quot;This is the attachment pretext.&quot;,
        &quot;text&quot;: &quot;This is the attachment text.&quot;,
        &quot;actions&quot;: [
          {
            &quot;id&quot;: &quot;action_options&quot;,
            &quot;name&quot;: &quot;Select an option...&quot;,
            &quot;integration&quot;: {
              &quot;url&quot;: &quot;http://127.0.0.1:7357/action_options&quot;,
              &quot;context&quot;: {
                &quot;action&quot;: &quot;do_something&quot;
              }
            },
            &quot;type&quot;: &quot;select&quot;,
            &quot;data_source&quot;: &quot;channels&quot;
          }
        ]
      }
    ]
  }
</code></pre><h3 id="message-menus-for-users">Message Menus for Users&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#message-menus-for-users"></i></a> </h3>
<p>Similar to channels, you can also provide a list of users for message menus. The user can choose the user who is part of the Mattermost system.</p>
<p>Specify <code>users</code> as your action&rsquo;s <code>data_source</code> as follows:</p>
<pre><code>  {
    &quot;attachments&quot;: [
      {
        &quot;id&quot;: &quot;action_options&quot;,
        &quot;pretext&quot;: &quot;This is the attachment pretext.&quot;,
        &quot;text&quot;: &quot;This is the attachment text.&quot;,
        &quot;actions&quot;: [
          {
            &quot;name&quot;: &quot;Select an option...&quot;,
            &quot;integration&quot;: {
              &quot;url&quot;: &quot;http://127.0.0.1:7357/action_options&quot;,
              &quot;context&quot;: {
                &quot;action&quot;: &quot;do_something&quot;
              }
            },
            &quot;type&quot;: &quot;select&quot;,
            &quot;data_source&quot;: &quot;users&quot;
          }
        ]
      }
    ]
  }
</code></pre><h3 id="parameters">Parameters&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#parameters"></i></a> </h3>
<p>Below is a brief description of each parameter to help you customize the interactive message button and menu in Mattermost. For more information on message attachments, <a href="https://docs.mattermost.com/developer/message-attachments.html">see our documentation</a>.</p>
<p>ID
A per post unique identifier.</p>
<p>Name
Give your action a descriptive name.</p>
<p>URL
The actions are backed by an integration that handles HTTP POST requests when users select the message button. The URL parameter determines where this action is sent. The request contains an <code>application/json</code> JSON string. As of 5.14, relative URLs are accepted, simplifying the workflow when a plugin handles the action.</p>
<p>Context
The requests sent to the specified URL contain the user ID, post ID, channel ID, team ID, and any context that was provided in the action definition. If the post was of type <code>Message Menus</code>, then context also contains the <code>selected_option</code> field with the user-selected option value. The post ID can be used to, for example, delete or edit the post after selecting a message button.</p>
<p>A simple example of a request is given below:</p>
<pre><code>    {
    &quot;user_id&quot;: &quot;rd49ehbqyjytddasoownkuqrxe&quot;,
    &quot;post_id&quot;: &quot;gqrnh3675jfxzftnjyjfe4udeh&quot;,
    &quot;channel_id&quot;: &quot;j6j53p28k6urx15fpcgsr20psq&quot;,
    &quot;team_id&quot;: &quot;5xxzt146eax4tul69409opqjlf&quot;,
    &quot;context&quot;: {
      &quot;action&quot;: &quot;do_something&quot;
      }
    }
</code></pre><p>In most cases, your integration will do one or both of these things:</p>
<ol>
<li><strong>Identifying which action was triggered</strong>. For example, a GitHub integration might store something like this in the context:</li>
</ol>
<pre><code>   {
   &quot;user_id&quot;: &quot;rd49ehbqyjytddasoownkuqrxe&quot;,
   &quot;post_id&quot;: &quot;gqrnh3675jfxzftnjyjfe4udeh&quot;,
   &quot;channel_id&quot;: &quot;j6j53p28k6urx15fpcgsr20psq&quot;,
   &quot;team_id&quot;: &quot;5xxzt146eax4tul69409opqjlf&quot;,
   &quot;context&quot;: {
     &quot;repo&quot;: &quot;mattermost/mattermost-server&quot;
     &quot;pr&quot;: 1234,
     &quot;action&quot;: &quot;merge&quot;
     }
   }
</code></pre><p>In the example above, when the message button is selected, your integration sends a request to the specified URL with the intention to merge the pull request identified by the context.</p>
<ol start="2">
<li><strong>Authenticating the server</strong>. An important property of the context parameter is that it&rsquo;s kept confidential. If your integration is not behind a firewall, you could add a token to your context without users ever being able to see it:</li>
</ol>
<pre><code>      {
      &quot;user_id&quot;: &quot;rd49ehbqyjytddasoownkuqrxe&quot;,
      &quot;post_id&quot;: &quot;gqrnh3675jfxzftnjyjfe4udeh&quot;,
      &quot;channel_id&quot;: &quot;j6j53p28k6urx15fpcgsr20psq&quot;,
      &quot;team_id&quot;: &quot;5xxzt146eax4tul69409opqjlf&quot;,
      &quot;context&quot;: {
        &quot;repo&quot;: &quot;mattermost/mattermost-server&quot;
        &quot;pr&quot;: 1234,
        &quot;action&quot;: &quot;merge&quot;,
        &quot;token&quot;: &quot;somerandomlygeneratedsecret&quot;
        }
      }
</code></pre><p>Then, when your integration receives the request, it can verify that the token matches one that you previously generated and know that the request is legitimately coming from the Mattermost server and is not forged.</p>
<p>Depending on the application, integrations can also perform authentication statelessly with cryptographic signatures such as:</p>
<pre><code>      {
      &quot;user_id&quot;: &quot;rd49ehbqyjytddasoownkuqrxe&quot;,
      &quot;post_id&quot;: &quot;gqrnh3675jfxzftnjyjfe4udeh&quot;,
      &quot;channel_id&quot;: &quot;j6j53p28k6urx15fpcgsr20psq&quot;,
      &quot;team_id&quot;: &quot;5xxzt146eax4tul69409opqjlf&quot;,
      &quot;context&quot;: {
        &quot;repo&quot;: &quot;mattermost/mattermost-server&quot;
        &quot;pr&quot;: 1234,
        &quot;action&quot;: &quot;merge&quot;,
        &quot;signature&quot;: &quot;mycryptographicsignature&quot;
        }
      }
</code></pre><p>It&rsquo;s also possible for integrations to do both of these things with a single token and use something like this as context:</p>
<pre><code>    {
    &quot;user_id&quot;: &quot;rd49ehbqyjytddasoownkuqrxe&quot;,
    &quot;post_id&quot;: &quot;gqrnh3675jfxzftnjyjfe4udeh&quot;,
    &quot;channel_id&quot;: &quot;j6j53p28k6urx15fpcgsr20psq&quot;,
    &quot;team_id&quot;: &quot;5xxzt146eax4tul69409opqjlf&quot;,
    &quot;context&quot;: {
      &quot;action_id&quot;: &quot;someunguessableactionid&quot;
      }
    }
</code></pre><p>Then, when the integration receives the request, it can act based on the action ID.</p>
<p>Tips and Best Practices</p>
<ol>
<li>The external application may be written in any programming language. It needs to provide a URL which receives the request sent by your Mattermost server and responds within the required JSON format.</li>
<li>To get started, you can use this <code>sample plugin &lt;https://github.com/matterpoll/matterpoll&gt;</code>__ to add polling to Mattermost channels via a <code>/poll</code> slash command.</li>
</ol>
<h2 id="share-your-integration">Share Your Integration&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#share-your-integration"></i></a> </h2>
<p>If you&rsquo;ve built an integration for Mattermost, please consider sharing your work in our <a href="https://integrations.mattermost.com">app directory</a>.</p>
<p>The <a href="https://integrations.mattermost.com">app directory</a> lists open source integrations developed by the Mattermost community and are available for download, customization, and deployment to your private cloud or self-managed infrastructure.</p>
<h2 id="slack-compatibility">Slack Compatibility&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#slack-compatibility"></i></a> </h2>
<p>Like Slack, actions are specified in an <strong>Actions</strong> list within the message attachment. Moreover, your integrations can react with ephemeral messages or message updates similar to Slack.</p>
<p>However, the schema for these objects is slightly different given Slack requires a Slack App and action URL to be pre-configured beforehand. Mattermost instead allows an integration to create an interactive message without pre-configuration.</p>
<p>If your <code>ephemeral_text</code> gets incorrectly handled by the Slack-compatibility logic, send <code>&quot;skip_slack_parsing&quot;:true</code> along your <code>ephemeral_text</code> to bypass it.</p>
<pre><code>  {
    &quot;update&quot;: {
      &quot;message&quot;: &quot;Updated!&quot;
    },
    &quot;ephemeral_text&quot;: &quot;You updated the post!&quot;,
    &quot;skip_slack_parsing&quot;: true
  }
</code></pre><h2 id="frequently-asked-questions">Frequently Asked Questions&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#frequently-asked-questions"></i></a> </h2>
<h3 id="are-message-buttons-and-menus-supported-in-ephemeral-messages">Are message buttons and menus supported in ephemeral messages?&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#are-message-buttons-and-menus-supported-in-ephemeral-messages"></i></a> </h3>
<p>Yes, message buttons and menus are supported in ephemeral messages in Mattermost 5.10 and later. This applies to integrations using plugins, the RESTful API and webhooks, across the browser and desktop app.</p>
<p>As an advanced feature, you can also use plugins to update the contents of an ephemeral message with message buttons or menus with the <a href="https://developers.mattermost.com/extend/plugins/server/reference/#API.UpdateEphemeralPost">UpdateEphemeralMessage plugin API</a>.</p>
<h3 id="why-does-an-interactive-button-or-menu-return-a-400-error">Why does an interactive button or menu return a 400 error?&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#why-does-an-interactive-button-or-menu-return-a-400-error"></i></a> </h3>
<p>It is likely for one of three reasons:</p>
<ol>
<li>Mattermost wasn&rsquo;t able to connect to the integration. If the integration is on your internal infrastructure, it&rsquo;ll need to be whitelisted (see <a href="https://docs.mattermost.com/administration/config-settings.html#allow-untrusted-internal-connections-to">&ldquo;AllowedUntrustedInternalConnections&rdquo; config.json setting</a>. The log will include the text <code>err=address forbidden</code> in the error message.</li>
<li>The integration didn&rsquo;t return HTTP status 200. The log will include the text <code>status=XXX</code> in the error message.</li>
<li>The integration didn&rsquo;t return a valid JSON response. The log will include the text <code>err=some json error message</code> in the error message.</li>
</ol>
<h3 id="how-do-i-manage-properties-of-an-interactive-message">How do I manage properties of an interactive message?&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#how-do-i-manage-properties-of-an-interactive-message"></i></a> </h3>
<p>Use <code>update.Props</code> in the following ways to manage properties (<code>Props</code>) of an interactive message after a user performs an action via an interactive button or menu:</p>
<ul>
<li><code>update.Props == nil</code> - Do not update <code>Props</code> field.</li>
<li><code>update.Props == {}</code> - Clear all properties, except the username and icon of the original message, as well as whether the message was pinned to channel or contained emoji reactions.</li>
<li><code>update.Props == some_props</code> - Post will be updated to <code>some_props</code>. Username and icon of the original message, and whether the message was pinned to channel or contained emoji reactions will not be updated.</li>
</ul>


                </div>
            </div>
        </div>
    </div>
    <footer class="text-center">
    <div class="container-fluid">
        <div class="footer__copyright">© Mattermost, Inc. All Rights Reserved.</div>
        <div class="footer__icons">
            <a href="https://www.facebook.com/Mattermost-2300985916642531/" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-facebook"></i></a>
            <a href="https://twitter.com/mattermost" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-twitter"></i></a>
            <a href="https://www.youtube.com/channel/UCNR05H72hi692y01bWaFXNA" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-youtube"></i></a>
        </div>
    </div>
</footer>


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
<script src="https://developers.mattermost.com/js/tabs.js"></script>
<script src="https://developers.mattermost.com/js/main.js"></script>

</body>
</html>
