<!DOCTYPE html>





<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> Code Signing</title>
<meta name="viewport" content="width=device-width, initial-scale=1">  
<meta http-equiv="content-language" content="en-us" />

<meta name="og:site_name" value="Mattermost.com">
<meta name="og:title" value="Code Signing">

 
  <meta name="description" content="When releasing the Mattermost Desktop application for Windows and macOS, we have to sign the executable with a certificate.">
<meta name="twitter:description" content="When releasing the Mattermost Desktop application for Windows and macOS, we have to sign the executable with a certificate.">
<meta name="og:description" content="When releasing the Mattermost Desktop application for Windows and macOS, we have to sign the executable with a certificate.">



 
<link rel="canonical" href="https://developers.mattermost.com/contribute/desktop/code-signing/">


<link rel="shortcut icon" type="image/png" href="https://developers.mattermost.com/img/favicon-32x32.png" />

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">


<link rel="stylesheet" href="https://developers.mattermost.com/css/bootstrap.min.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/tabs.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/bar.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/styles.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/code.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/note.css">

<script async defer src="https://buttons.github.io/buttons.js"></script>


<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-53S4TVZ');</script>


    </head>
<body>
    
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-53S4TVZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


    
<header class="with-notification-bar">

    <a href="https://developers.mattermost.com/"><img src="https://developers.mattermost.com/img/logo.svg" alt="Mattermost Logo" width="212px"></a>
    <div class="header__menu-toggle">
        <i class="fa fa-bars"></i>
    </div>
    <ul class="header__links--right">
        <li><a href="https://developers.mattermost.com/">Home</a></li>
        
            
            
            
                
                    <li class="active"><a href="https://developers.mattermost.com/contribute/getting-started/">Contribute</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/integrate/getting-started/">Integrate</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/extend/getting-started/">Extend</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/blog/">Blog</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://docs.mattermost.com/">Admin Docs</a></li>
                
            
        
    </ul>
</header>


<div class='notification-bar sticky-top'>
    <div class="notification-bar__content">
        <a class="notification-bar__close">
            <span aria-hidden="true">Ã—</span>
        </a>
        <a href="https://mattermost.com/careers">
            We&#39;re hiring!
        </a>
    </div>
</div>




    <div id="wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-3 sidebar">
    <div class="sidebar__menu-toggle">
        Code Signing
        <i class="fa fa-bars pull-right"></i>
    </div>
    <div class="row sidebar__links">
        
            
        
            
            
                
                

                
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/contribute/getting-started/"> Getting Started</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/contributions-without-ticket/"> Contributions Without Ticket</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/contribution-checklist/"> Contribution Checklist</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/inactive-contributions/"> Inactive Contributions</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/core-committers/"> Core Committers</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/code-review/"> Code Review</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/labels/"> Labels</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/branching/"> Mattermost tick-tock Branching Strategy</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/slash-commands/"> Slash Commands</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/getting-started/guilds/"> Engineering Guilds</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                </ul>
            
                
                

                
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/contribute/server/"> Server</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/developer-setup/"> Developer Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/style-guide/"> Go Style Guide</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/feature-flags/"> Feature Flags</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/developer-workflow/"> Server Workflow</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/rest-api/"> REST API</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/system_console/"> System Console</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/dependencies/"> Dependencies</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/cli-commands/"> CLI Commands</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/plugins/"> Plugins</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/tooling/"> Tooling</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/developer-setup/arch/"> Arch Linux Development Environment Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/developer-setup/centos/"> CentOS Development Environment Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/developer-setup/ubuntu/"> Mattermost Developer Setup: Ubuntu</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/developer-setup/osx/"> OSX Development Environment Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/server/developer-setup/windows-wsl/"> Windows with WSL Development Environment Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                </ul>
            
                
                

                
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/contribute/webapp/"> Web App</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/developer-setup/"> Developer Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/developer-workflow/"> Web App Workflow</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/build-component/"> Build a Component</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/unit-testing/"> Unit Testing</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/end-to-end-tests/"> End-to-End Testing</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/using-i18n-extract/"> Using make i18n-extract</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/redux/"> Redux</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/webapp/redux/actions/"> Actions</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/webapp/redux/reducers/"> Reducers</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/webapp/redux/selectors/"> Selectors</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/webapp/redux/react-redux/"> Using Redux with React</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/webapp/migrating-to-typescript/"> Migrating to Typescript</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                </ul>
            
                
                

                
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/contribute/mobile/"> Mobile Apps</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/contribute/mobile/developer-setup/"> Developer Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/developer-setup/structure/"> Folder Structure</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/developer-setup/run/"> Run the app</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/developer-setup/dependecies/"> Add new dependencies</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/contribute/mobile/build-your-own/"> Build Your Own App</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/build-your-own/android/"> Build the Android App</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/build-your-own/ios/"> Build the iOS App</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/build-your-own/white-label/"> White Labeling</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/contribute/mobile/push-notifications/"> Setup Push Notifications</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/push-notifications/android/"> Android Push Notifications</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/push-notifications/ios/"> iOS Push Notifications</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/push-notifications/service/"> Push Notification Service</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/push-notifications/corporate-proxy/"> Push Notification Service with Corporate Proxy</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/contribute/mobile/unsigned/"> Sign Unsigned Builds</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/unsigned/android/"> Sign Unsigned Android</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/unsigned/ios/"> Sign Unsigned iOS</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="https://developers.mattermost.com/contribute/mobile/e2e/"> Mobile End-to-End Testing</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/e2e/file-structure/"> Folder and File Structure</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/e2e/android/"> Setup and Run Android E2E</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/e2e/ios/"> Setup and Run iOS E2E</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/e2e/guide-for-writing/"> Guide for Writing E2E</a>
                                
                                </span>
                            
                            
                                <span class="item ">
                                
                                    <a href="https://developers.mattermost.com/contribute/mobile/e2e/environment-vars/"> Environment Variables</a>
                                
                                </span>
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/mobile/storybook/"> Storybook</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/contribute/plugins/"> Plugins</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                
                    
                

                
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-minus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/contribute/desktop/"> Desktop App</a>
                    
                </span>

                <ul class="sub-menu" style="display: block">
                    
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/desktop/developer-setup/"> Developer Setup</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        

                        
                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/contribute/desktop/debugging/"> Debugging</a>
                            
                        </span>

                        <ul class="sub-menu" >
                            
                        </ul>
                
                        
                        

                        
                        
                            
                        

                        
                        
                            
                        

                        <span class="item active">
                            <i class="sub-menu__toggle fa fa-minus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a class="active" href="#"> Code Signing</a>
                            
                        </span>

                        <ul class="sub-menu" style="display: block">
                            
                        </ul>
                
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/contribute/devtalks/"> Mattermost Dev Talks</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/contribute/containers/"> Containers</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/contribute/team_contributions/"> Contributor Wall of Fame</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/contribute/gsoc/"> Google Summer of Code</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/contribute/mvp/"> MVP</a>
                    
                </span>

                <ul class="sub-menu" >
                    
                </ul>
            
            
        
            
        
            
        
            
        
    </div>
</div>

                <div class="col-lg-9 doc-content">
                    
<a href="https://github.com/mattermost/mattermost-developer-documentation/edit/master/site/content/contribute/desktop/code-signing.md" class="float-right edit-github">
    Edit on GitHub
</a>


                    <h1 class="mt-0 doc-title">
                        
                            Code Signing at Mattermost
                        
                    </h1>
                    <p>When releasing the Mattermost Desktop application for Windows and macOS, we have to sign the executable with a certificate that allows the end user&rsquo;s computer to verify our identity.</p>
<p>The signing procedure varies depending on the platform that the release is destined for and the platform that the signing operation is performed on. This page attempts to document the procedure and some common pitfalls that developers may encounter along the way.</p>
<h2 id="code-signing-windows-releases">Code Signing Windows Releases&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#code-signing-windows-releases"></i></a> </h2>
<p>Releases destined for Windows can be code signed on Windows, macOS, or Linux.</p>
<h4 id="prerequisites">Prerequisites&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#prerequisites"></i></a> </h4>
<p>In order to code sign releases on behalf of Mattermost Inc., you&rsquo;ll need a <code>.pfx</code> (Personal Information Exchange) file that contains Mattermost&rsquo;s public key (SSL certificate file), and the associated private key file. The file is protected by a password that you&rsquo;ll need in order to use it.</p>
<p>This file has been shared in LastPass. Talk to Joram Wilander, Corey Hulen, or Jonathan Fritz to get access to it.</p>
<h4 id="regenerating-the-pfx-file">Regenerating the .pfx File&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#regenerating-the-pfx-file"></i></a> </h4>
<p>Signing certificates occasionally expire. When renewed, the registrar will provide you with  a <code>.spc</code> (Software Publishing Certificate) and a <code>.pem</code> (Public Key) file. These must be combined with a corresponding <code>.key</code> (Private Key) file to create the <code>.pfx</code> (Personal Information Exchange) file that is used to sign builds.</p>
<p>First, verify that the <code>.pem</code> and <code>.key</code> files match:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ openssl x509 -noout -modulus -in public.pem | openssl md5
ba31f9e34b7ef88af514b0a23f1b72b8
~$ openssl rsa -noout -modulus -in private.key | openssl md5
ba31f9e34b7ef88af514b0a23f1b72b8
</code></pre></div><p>If the md5 hash of the modulus of each file matches, they are a valid pair.</p>
<p>Next, combine the two files into a single <code>.pfx</code> file:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ openssl pkcs12 -inkey private.key -in public.pem -out mattermost-desktop-windows.pfx -export
</code></pre></div><p>You will be prompted for a password. This password will lock the <code>.pfx</code> file, and must be provided every time somebody tries to use it. The resulting file can be used in the next step to sign builds.</p>
<h4 id="code-signing-on-windows">Code Signing on Windows&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#code-signing-on-windows"></i></a> </h4>
<p>On Windows hosts, Microsoft&rsquo;s <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa387764(v=vs.85).aspx"><code>SignTool</code></a> utility can be used to code sign releases.</p>
<p>To install <code>SignTool</code> you&rsquo;ll need the Microsoft Windows Software Development Kit (SDK). If you have a copy of Visual Studio installed, you might already have it included with the commandlines packaged with Visual Studio.</p>
<p>After successfully <a href="https://developers.mattermost.com/contribute/desktop/developer-setup/#building">building and packaging</a> the Mattermost Desktop application for Windows, you can run the signing command from the root of the repository:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">SignTool sign /f <span style="color:#555">[</span>PATH_TO_THE_PFX_FILE<span style="color:#555">]</span> /p <span style="color:#555">[</span>PFX_FILE_PASSWORD<span style="color:#555">]</span> /tr http://tsa.starfieldtech.com /td SHA256 <span style="color:#555">[</span>PATH_TO_UNSIGNED_EXE<span style="color:#555">]</span>
</code></pre></div><p>Where</p>
<ul>
    <li>**PATH_TO_THE_PFX_FILE** is the absolute path to the `.pfx` file that was obtained in the Prerequisites section above</li>
    <li>**PFX_FILE_PASSWORD** is the password that protects the `.pfx` file from being misused</li>
    <li>**PATH_TO_UNSIGNED_EXE** is the absolute path of the unsigned executable that you want to sign. It is typically in the `release/win` or `release/win-ia32` subdirectory of the repository</li>
</ul>
<h4 id="code-signing-on-macos-and-linux">Code Signing on macOS and Linux&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#code-signing-on-macos-and-linux"></i></a> </h4>
<p>On macOS and Linux hosts, the open source <a href="https://sourceforge.net/projects/osslsigncode/"><code>osssigntool</code></a> can be used to code sign releases. It can be installed via Homebrew on macOS:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ brew install openssl
~$ brew install osslsigncode
</code></pre></div><p>or via Apt on Ubuntu:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ sudo apt-get install openssl
~$ sudo apt-get install osslsigncode
</code></pre></div><p>After successfully <a href="https://developers.mattermost.com/contribute/desktop/developer-setup/#building">building and packaging</a> the Mattermost Desktop application for Windows, you can run the signing command from the root of the repository:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ osslsigncode sign -pkcs12 <span style="color:#555">[</span>PATH_TO_THE_PFX_FILE<span style="color:#555">]</span> -passfile <span style="color:#555">[</span>PFX_FILE_PASSWORD<span style="color:#555">]</span> -n <span style="color:#c30">&#34;Mattermost Desktop&#34;</span> -i https://mattermost.com -t http://timestamp.verisign.com/scripts/timstamp.dll -h sha2 -in <span style="color:#555">[</span>PATH_TO_UNSIGNED_EXE<span style="color:#555">]</span> -out <span style="color:#555">[</span>PATH_TO_WRITE_SIGNED_EXE_TO<span style="color:#555">]</span>
Succeeded
</code></pre></div><p>Where</p>
<ul>
    <li>**PATH_TO_THE_PFX_FILE** is the absolute path to the `.pfx` file that was obtained in the Prerequisites section above</li>
    <li>**PFX_FILE_PASSWORD** is the password that protects the `.pfx` file from being misused</li>
    <li>**PATH_TO_UNSIGNED_EXE** is the absolute path of the unsigned executable that you want to sign. It is typically in the `release/win` or `release/win-ia32` subdirectory of the repository</li>
    <li>**PATH_TO_WRITE_SIGNED_EXE_TO** is the absolute path to write the signed executable to
</ul>
Note that on some Linux systems, attempting to overwrite PATH_TO_UNSIGNED_EXE with PATH_TO_WRITE_SIGNED_EXE_TO can result in a crash. It's best to write the signed exe to a different path, and then use a `mv` command to overwrite the unsigned exe with the signed exe.
<h4 id="verifying-the-signature">Verifying the Signature:&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#verifying-the-signature"></i></a> </h4>
<p>Once you have successfully signed the release, you can use the <code>verify</code> flag of the <code>osslsigncode</code> utility to ensure that the signature was applied correctly.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ osslsigncode verify PATH_TO_SIGNED_EXE
Current PE checksum   : 03CF3E32
Calculated PE checksum: 03CF3E32

Message digest algorithm  : SHA256
Current message digest    : 3B8B25C49C1D3D0DFB34D79602D9A7E565A09CA10E3BDB49A4562668C042B07F
Calculated message digest : 3B8B25C49C1D3D0DFB34D79602D9A7E565A09CA10E3BDB49A4562668C042B07F

Signature verification: ok

Number of signers: <span style="color:#f60">1</span>
	Signer <span style="color:#09f;font-style:italic">#0:</span>
		Subject: /C<span style="color:#555">=</span>US/ST<span style="color:#555">=</span>California/L<span style="color:#555">=</span>Palo Alto/O<span style="color:#555">=</span>Mattermost, Inc./CN<span style="color:#555">=</span>Mattermost, Inc.
		Issuer : /C<span style="color:#555">=</span>US/ST<span style="color:#555">=</span>Arizona/L<span style="color:#555">=</span>Scottsdale/O<span style="color:#555">=</span>GoDaddy.com, Inc./OU<span style="color:#555">=</span>http://certs.godaddy.com/repository//CN<span style="color:#555">=</span>Go Daddy Secure Certificate Authority - G2

Number of certificates: <span style="color:#f60">5</span>
	Cert <span style="color:#09f;font-style:italic">#0:</span>
		Subject: /C<span style="color:#555">=</span>US/ST<span style="color:#555">=</span>California/L<span style="color:#555">=</span>Palo Alto/O<span style="color:#555">=</span>Mattermost, Inc./CN<span style="color:#555">=</span>Mattermost, Inc.
		Issuer : /C<span style="color:#555">=</span>US/ST<span style="color:#555">=</span>Arizona/L<span style="color:#555">=</span>Scottsdale/O<span style="color:#555">=</span>GoDaddy.com, Inc./OU<span style="color:#555">=</span>http://certs.godaddy.com/repository//CN<span style="color:#555">=</span>Go Daddy Secure Certificate Authority - G2
	Cert <span style="color:#09f;font-style:italic">#1:</span>
		Subject: /C<span style="color:#555">=</span>US/ST<span style="color:#555">=</span>Arizona/L<span style="color:#555">=</span>Scottsdale/O<span style="color:#555">=</span>GoDaddy.com, Inc./OU<span style="color:#555">=</span>http://certs.godaddy.com/repository//CN<span style="color:#555">=</span>Go Daddy Secure Certificate Authority - G2
		Issuer : /C<span style="color:#555">=</span>US/ST<span style="color:#555">=</span>Arizona/L<span style="color:#555">=</span>Scottsdale/O<span style="color:#555">=</span>GoDaddy.com, Inc./CN<span style="color:#555">=</span>Go Daddy Root Certificate Authority - G2
	Cert <span style="color:#09f;font-style:italic">#2:</span>
		Subject: /C<span style="color:#555">=</span>US/ST<span style="color:#555">=</span>Arizona/L<span style="color:#555">=</span>Scottsdale/O<span style="color:#555">=</span>GoDaddy.com, Inc./CN<span style="color:#555">=</span>Go Daddy Root Certificate Authority - G2
		Issuer : /C<span style="color:#555">=</span>US/O<span style="color:#555">=</span>The Go Daddy Group, Inc./OU<span style="color:#555">=</span>Go Daddy Class <span style="color:#f60">2</span> Certification Authority
	Cert <span style="color:#09f;font-style:italic">#3:</span>
		Subject: /C<span style="color:#555">=</span>US/O<span style="color:#555">=</span>Symantec Corporation/CN<span style="color:#555">=</span>Symantec Time Stamping Services Signer - G4
		Issuer : /C<span style="color:#555">=</span>US/O<span style="color:#555">=</span>Symantec Corporation/CN<span style="color:#555">=</span>Symantec Time Stamping Services CA - G2
	Cert <span style="color:#09f;font-style:italic">#4:</span>
		Subject: /C<span style="color:#555">=</span>US/O<span style="color:#555">=</span>Symantec Corporation/CN<span style="color:#555">=</span>Symantec Time Stamping Services CA - G2
		Issuer : /C<span style="color:#555">=</span>ZA/ST<span style="color:#555">=</span>Western Cape/L<span style="color:#555">=</span>Durbanville/O<span style="color:#555">=</span>Thawte/OU<span style="color:#555">=</span>Thawte Certification/CN<span style="color:#555">=</span>Thawte Timestamping CA

Succeeded
</code></pre></div><p><strong>NOTE:</strong> This verification step will pass even if the certificate that was used to sign the build is expired. Always copy the signed executable to a Windows box, right-click on it, select Properties &gt; Digital Signatures &gt; Details &gt; View Certificates &gt; General and ensure that no validation errors are shown.
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/valid-windows-signature.png" width="900px"/> 
</figure>
</p>
<h2 id="code-signing-macos-releases">Code Signing macOS Releases&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#code-signing-macos-releases"></i></a> </h2>
<p>Releases destined for macOS can <strong>only</strong> be code signed on a macOS host. It is not possible to sign macOS releases on a Windows or Linux host.</p>
<h4 id="prerequisites-1">Prerequisites&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#prerequisites-1"></i></a> </h4>
<p>In order to code sign releases on behalf of Mattermost Inc., you&rsquo;ll need to be a member of the Apple Developer program and a part of the Mattermost, Inc. team. You can check your team membership in Xcode by selecting <strong>Preferences</strong> from the <strong>Xcode</strong> menu, and opening the <strong>Accounts</strong> tab in the dialog box that appears.
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/xcode-accounts-mattermost.png" width="600px"/> 
</figure>

If you aren&rsquo;t a member of the Mattermost, Inc. team, talk to Joram Wilander, Corey Hulen, or Jonathan Fritz.</p>
<p>Once you are a member of the team, click the <strong>Download Manual Profiles</strong> button at the bottom of the Accounts dialog. Next, highlight <strong>Mattermost, Inc.</strong> in the team list, and click the <strong>Manage Certificates&hellip;</strong> button.</p>
<p>In the dialog that appears, ensure that you have a <strong>Developer ID Application</strong> certificate under the <strong>macOS Distribution Certificates</strong> heading:
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/missing-private-key.png" width="600px"/> 
</figure>
</p>
<p>If you do not see the <strong>macOS Distribution Certificates</strong> heading or the <strong>Developer ID Application</strong> certificate is missing, you can download the certificate from <a href="https://developers.apple.com">The Apple Developers Portal</a>. Sign in with your Apple ID and select <strong>Certificates, IDs &amp; Profiles</strong> from the left hand sidebar:
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/apple-developer-lhs.png" width="600px"/> 
</figure>
</p>
<p>From the drop down box in the top left hand corner of the <strong>Certificates, Identifiers &amp; Profiles</strong> page that appears, select <strong>macOS</strong>. Next, under the <strong>Certificates</strong> heading in the left hand sidebar, select <strong>All</strong>. The <strong>Mattermost, Inc. Developer ID Application</strong> certificate should appear in the centre panel of the screen. Click on it to expand it and then click on the <strong>Download</strong> button that appears.
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/apple-developer-download-cert.png" width="600px"/> 
</figure>
</p>
<p>Once downloaded, you can double-click on the certificate file to import it into your local keychain.
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/keychain-access.png" width="600px"/> 
</figure>
</p>
<p>Back in XCode, the entry in the <strong>Status</strong> column of the <strong>Manage Certificates&hellip;</strong> dialog for this certificate will be <code>Missing Private Key</code>:
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/missing-private-key.png" width="600px"/> 
</figure>
</p>
<p>The private key is available in a <code>.p12</code> file that has been shared in LastPass. Talk to Joram Wilander, Corey Hulen, or Jonathan Fritz to get access to it. Once downloaded, double-click on the file to import it into your macOS keychain. It should appear in the <strong>Keys</strong> category of your <strong>login</strong> keychain:
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/private-key.png" width="600px"/> 
</figure>
</p>
<p>Back in Xcode, under <strong>Xcode</strong> &gt; <strong>Preferences</strong> &gt; <strong>Accounts</strong> &gt; <strong>Manage Certificates&hellip;</strong>, the <strong>Status</strong> column entry for the <strong>Developer ID Application</strong> certificate should now be empty:
<figure>
    <img src="https://developers.mattermost.com/img/code-signing/empty-status.png" width="600px"/> 
</figure>
</p>
<p>Finally, you&rsquo;ll need to install the <code>electron-osx-sign</code> utility via NPM:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ npm install -g electron-osx-sign
</code></pre></div><h4 id="signing-the-release">Signing the Release&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#signing-the-release"></i></a> </h4>
<p>Note that once the code signing certificate and private key have been imported as described in the <strong>Prerequisites</strong> section above, the application will automatically be code signed during <a href="https://developers.mattermost.com/contribute/desktop/developer-setup/#building">building and packaging</a>. To confirm that this step has been completed, skip down to the <strong>Verifying the Signature</strong> section below.
If the application was built and packaged by somebody else, and you need to sign to the <code>.app</code> that they produced, you can run the signing command from the root of the repository:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ electron-osx-sign release/mac/Mattermost.app
 &gt; Name: Developer ID Application: Mattermost, Inc. <span style="color:#555">(</span>****<span style="color:#555">)</span>
 &gt; Hash: **** +3s
 * Disable by setting <span style="color:#c30">`</span>pre-embed-previsioning-profile<span style="color:#c30">`</span> to <span style="color:#c30">`</span><span style="color:#366">false</span><span style="color:#c30">`</span>. +1ms
 * Disable by setting <span style="color:#c30">`</span>pre-auto-entitlements<span style="color:#c30">`</span> to <span style="color:#c30">`</span><span style="color:#366">false</span><span style="color:#c30">`</span>. +0ms
 &gt; Application: Mattermost.app
 &gt; Platform: darwin
 &gt; Entitlements: undefined
 &gt; Child entitlements: undefined
 &gt; Additional binaries: <span style="color:#555">[]</span>
 &gt; Identity: <span style="color:#555">{</span> name: <span style="color:#c30">&#39;Developer ID Application: Mattermost, Inc. (****)&#39;</span>,
  hash: <span style="color:#c30">&#39;****&#39;</span> <span style="color:#555">}</span> +0ms
  Electron Framework +0ms
  Libraries/libffmpeg.dylib +0ms
  Libraries/libnode.dylib +1ms
  Resources/crashpad_handler +0ms
  Mattermost Helper EH +0ms
  Mattermost Helper NP +0ms
  Mattermost Helper +1ms
  ReactiveCocoa +0ms
  ShipIt +0ms
  +0ms
 Application signed: Mattermost.app
</code></pre></div><h4 id="known-issues">Known Issues&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#known-issues"></i></a> </h4>
<p>Code signing is a bit of a black art. Some issues that have been observed in the past are likely to affect you in the future. If you encounter any troubles while code signing macOS releases, please document them here to help the rest of the team.</p>
<h5 id="no-identity-found-for-signing">No Identity Found for Signing&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#no-identity-found-for-signing"></i></a> </h5>
<p>If the <code>electron-osx-sign</code> command failed with an error message like this one:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ electron-osx-sign release/mac/Mattermost.app
 Sign failed:
 No identity found <span style="color:#069;font-weight:bold">for</span> signing.
</code></pre></div><p>It is likely that you have not successfully imported the Mattermost Developer ID Application certificate and associated private key. See the Prerequisites section above.</p>
<h5 id="code-object-is-not-signed-at-all">Code Object is not Signed at all&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#code-object-is-not-signed-at-all"></i></a> </h5>
<p>If the <code>electron-osx-sign</code> command failed with an error message like this one:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ electron-osx-sign release/mac/Mattermost.app
...
Sign failed:
Command failed: codesign --sign **** --force Mattermost.app/Contents/MacOS/Mattermost
Mattermost.app/Contents/MacOS/Mattermost: code object is not signed at all
In subcomponent: /Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/LICENSE.txt
</code></pre></div><p>You have resource files in the wrong place in your release folder. According to <a href="https://developer.apple.com/library/content/documentation/Security/Conceptual/CodeSigningGuide/Procedures/Procedures.html">Apple&rsquo;s Developer Docs</a>, all resource files (i.e. anything that isn&rsquo;t code) must be in the <code>Content/Resources</code> folder within the <code>.app</code> package. In this case, the <code>LICENSE.txt</code> file is located in the top-level <code>Contents</code> directory, causing the code signing operation to fail. This can be fixed by moving any non-code resource files into the <code>Content/Resources</code> directory.</p>
<h5 id="signing-doesnt-work-via-ssh">Signing Doesn&rsquo;t Work via SSH&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#signing-doesnt-work-via-ssh"></i></a> </h5>
<p>If you&rsquo;re attempting to perform code signing on a remote box via SSH (for instance, if the build is being run on a macOS slave controlled by Jenkins), you will need to unlock the keychain that contains the signing certificate and private key before either can be used.</p>
<p>To unlock the keychain, run this command before attempting to sign the code:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">security -v unlock-keychain -p KEYCHAIN_PASSWORD_HERE
</code></pre></div><p>To avoid committing the password for the slave machine to GitHub, you can save the password to a file that resides on the slave machine, and read it from that file during signing:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">security -v unlock-keychain -p <span style="color:#069;font-weight:bold">$(</span>cat /Users/administrator/keychain-password.txt<span style="color:#069;font-weight:bold">)</span>
</code></pre></div><h4 id="verifying-the-signature-1">Verifying the Signature&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#verifying-the-signature-1"></i></a> </h4>
<p>Once you have successfully signed the release, you can use the <code>codesign</code> utility that ships with macOS to verify that the signature was applied correctly.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ codesign --verify --verbose<span style="color:#555">=</span><span style="color:#f60">4</span> Mattermost.app
   --prepared:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mattermost Helper EH.app
   --validated:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mattermost Helper EH.app
   --prepared:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mattermost Helper.app
   --validated:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mattermost Helper.app
   --prepared:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Squirrel.framework/Versions/Current/.
   --validated:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Squirrel.framework/Versions/Current/.
   --prepared:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/ReactiveCocoa.framework/Versions/Current/.
   --validated:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/ReactiveCocoa.framework/Versions/Current/.
   --prepared:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Electron Framework.framework/Versions/Current/.
   --validated:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Electron Framework.framework/Versions/Current/.
   --prepared:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mattermost Helper NP.app
   --prepared:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mantle.framework/Versions/Current/.
   --validated:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mattermost Helper NP.app
   --validated:/Users/jfritz/go/src/github.com/mattermost/desktop/release/mac/Mattermost.app/Contents/Frameworks/Mantle.framework/Versions/Current/.
   Mattermost.app: valid on disk
   Mattermost.app: satisfies its Designated Requirement
</code></pre></div><p>You can also use the <code>spctl</code> utility to ensure that end users will be allowed to install the application on their machines:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">~$ spctl --verbose<span style="color:#555">=</span><span style="color:#f60">4</span> --assess --type execute Mattermost.app
   Mattermost.app: accepted
   <span style="color:#033">source</span><span style="color:#555">=</span>Developer ID
</code></pre></div>

                </div>
            </div>
        </div>
    </div>
    <footer class="text-center">
    <div class="container-fluid">
        <div class="footer__copyright">Â© Mattermost, Inc. All Rights Reserved.</div>
        <div class="footer__icons">
            <a href="https://www.facebook.com/Mattermost-2300985916642531/" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-facebook"></i></a>
            <a href="https://twitter.com/mattermost" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-twitter"></i></a>
            <a href="https://www.youtube.com/channel/UCNR05H72hi692y01bWaFXNA" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-youtube"></i></a>
        </div>
    </div>
</footer>


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
<script src="https://developers.mattermost.com/js/tabs.js"></script>
<script src="https://developers.mattermost.com/js/main.js"></script>

</body>
</html>
